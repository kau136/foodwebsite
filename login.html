<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registration Form</title>
    <link rel="stylesheet"  href="./login.css">
   </head>

<body>
    <div class="registration-form">
       
        <form id="myForm" action="http://localhost:3000/user/Login" method="POST">
            <h1>Login Form</h1>
            <p>username:</p>
            <input type="text" name="username" placeholder="User Name">
            <p>Password:</p>
            <input type="password" name="password" placeholder="Password">
            <button type="submit">login</button>
        </form>
    </div>

    <script>
        const myForm =document.getElementById('myForm')
    
          myForm.addEventListener('submit',function(e){
            e.preventDefault()
            const formData = new FormData(this)
            console.log(formData)
            const plainFormData = Object.fromEntries(formData.entries());
            const jsondata = JSON.stringify(plainFormData)
            console.log(jsondata)
            fetch('http://localhost:3000/user/Login',{
              method: 'POST',
              headers: {
                "Content-Type": "application/json",
                "Accept": "application/json"
              },
              body: jsondata,
            }).then(()=>{
              console.log('Success')
              .catch(err=>{
                console.log(err)
              })
            })
          })
    </script>


</body>

</html>